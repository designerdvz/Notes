import{c as l}from"./character-entities-legacy-d39742d7.js";import{c as o}from"./character-entities-html4-26dda978.js";function m(r,e){if(r=r.replace(e.subset?h(e.subset):/["&'<>`]/g,c),e.subset||e.escapeOnly)return r;return r.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,c);function t(n,a,s){return e.format((n.charCodeAt(0)-55296)*1024+n.charCodeAt(1)-56320+65536,s.charCodeAt(a+2),e)}function c(n,a,s){return e.format(n.charCodeAt(0),s.charCodeAt(a+1),e)}}function h(r){const e=[];let t=-1;for(;++t<r.length;)e.push(r[t].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function g(r,e,t){const c="&#x"+r.toString(16).toUpperCase();return t&&e&&!/[\dA-Fa-f]/.test(String.fromCharCode(e))?c:c+";"}function d(r,e,t){const c="&#"+String(r);return t&&e&&!/\d/.test(String.fromCharCode(e))?c:c+";"}const C=["cent","copy","divide","gt","lt","not","para","times"],f={}.hasOwnProperty,u={};let i;for(i in o)f.call(o,i)&&(u[o[i]]=i);function x(r,e,t,c){const n=String.fromCharCode(r);if(f.call(u,n)){const a=u[n],s="&"+a;return t&&l.includes(a)&&!C.includes(a)&&(!c||e&&e!==61&&/[^\da-z]/i.test(String.fromCharCode(e)))?s:s+";"}return""}function S(r,e,t){let c=g(r,e,t.omitOptionalSemicolons),n;if((t.useNamedReferences||t.useShortestReferences)&&(n=x(r,e,t.omitOptionalSemicolons,t.attribute)),(t.useShortestReferences||!n)&&t.useShortestReferences){const a=d(r,e,t.omitOptionalSemicolons);a.length<c.length&&(c=a)}return n&&(!t.useShortestReferences||n.length<c.length)?n:c}function D(r,e){return m(r,Object.assign({format:S},e))}export{D as s};

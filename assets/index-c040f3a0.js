import{a as u,j as e,F as x,M as T,B as O,d as B,b as E,c as q,e as M,f as j,g as H,h as P}from"./@mui-096715cd.js";import{r as m,a as z}from"./react-99980991.js";import{c as A}from"./react-dom-c29771f7.js";import{m as C}from"./@uiw-6ebdcba1.js";import"./react-is-8ec33bf7.js";import"./@babel-50ba0f09.js";import"./clsx-1229b3e0.js";import"./react-transition-group-aa752d51.js";import"./@emotion-35522de6.js";import"./hoist-non-react-statics-4ed993c7.js";import"./stylis-581c9ed0.js";import"./scheduler-04ce0582.js";import"./remark-gfm-eaf1273c.js";import"./micromark-extension-gfm-40209519.js";import"./micromark-util-combine-extensions-ffbb6aad.js";import"./micromark-util-chunked-7cee8b40.js";import"./micromark-extension-gfm-autolink-literal-72da6efa.js";import"./micromark-util-character-ccb466e5.js";import"./micromark-extension-gfm-footnote-d7a5ec01.js";import"./micromark-factory-space-2547bc30.js";import"./micromark-util-normalize-identifier-dfdf0387.js";import"./micromark-core-commonmark-ab113acc.js";import"./micromark-util-classify-character-728b5235.js";import"./micromark-util-resolve-all-8a85a8df.js";import"./decode-named-character-reference-29ded5ae.js";import"./micromark-util-subtokenize-f94e41b9.js";import"./micromark-factory-destination-f12e4d3e.js";import"./micromark-factory-label-53e069e8.js";import"./micromark-factory-title-b222afd5.js";import"./micromark-factory-whitespace-314b880f.js";import"./micromark-util-html-tag-name-bc5d5c53.js";import"./micromark-extension-gfm-strikethrough-5072c35b.js";import"./micromark-extension-gfm-table-11ba3470.js";import"./micromark-extension-gfm-task-list-item-d0af5a06.js";import"./mdast-util-gfm-347dd703.js";import"./mdast-util-gfm-autolink-literal-a70d2276.js";import"./ccount-97b3fed9.js";import"./mdast-util-find-and-replace-32e8b4ba.js";import"./unist-util-is-23f17141.js";import"./unist-util-visit-parents-72556a0a.js";import"./mdast-util-gfm-footnote-31571d90.js";import"./mdast-util-to-markdown-ad1e6640.js";import"./micromark-util-decode-string-02bf9559.js";import"./micromark-util-decode-numeric-character-reference-bd25dc10.js";import"./mdast-util-gfm-strikethrough-7d1a1ec2.js";import"./mdast-util-gfm-table-fba66337.js";import"./markdown-table-e4bb1f36.js";import"./mdast-util-gfm-task-list-item-32264dbd.js";import"./rehype-raw-a8efafac.js";import"./hast-util-raw-fe5ca10f.js";import"./parse5-75f98ef9.js";import"./html-void-elements-99229dcc.js";import"./web-namespaces-a6665c10.js";import"./zwitch-18fef54d.js";import"./hast-util-from-parse5-6d854c06.js";import"./property-information-1c94c3e6.js";import"./vfile-location-71013d3a.js";import"./hastscript-6e8eb65a.js";import"./space-separated-tokens-eedf1754.js";import"./comma-separated-tokens-495b557e.js";import"./hast-util-parse-selector-2e5db8ec.js";import"./unist-util-visit-00dde69f.js";import"./unist-util-position-793764a5.js";import"./hast-util-to-parse5-6b38a9ce.js";import"./rehype-slug-cf11f1f9.js";import"./github-slugger-15b5d832.js";import"./hast-util-to-string-00227f59.js";import"./hast-util-heading-rank-1ca6eaab.js";import"./hast-util-has-property-77f33ae2.js";import"./rehype-attr-54034442.js";import"./rehype-ignore-1a126447.js";import"./rehype-prism-plus-e68cdff7.js";import"./parse-numeric-range-9ea3a738.js";import"./refractor-49dd922f.js";import"./parse-entities-886a4bc9.js";import"./character-entities-legacy-d39742d7.js";import"./character-reference-invalid-da0c882b.js";import"./is-decimal-dfcce753.js";import"./is-hexadecimal-f403e296.js";import"./is-alphanumerical-4b9c73ef.js";import"./is-alphabetical-ea837323.js";import"./unist-util-filter-604d5ec3.js";import"./rehype-rewrite-0458f262.js";import"./hast-util-select-f41183e8.js";import"./direction-ad776bdc.js";import"./bcp-47-match-575b2c5d.js";import"./hast-util-whitespace-aa13952a.js";import"./nth-check-ae4827fe.js";import"./boolbase-11bd8b7d.js";import"./css-selector-parser-ca05af30.js";import"./rehype-autolink-headings-027602cf.js";import"./extend-33196086.js";import"./hast-util-is-element-a48592b7.js";import"./react-markdown-827e79ea.js";import"./remark-parse-ed2eeecb.js";import"./mdast-util-from-markdown-efbbb8cf.js";import"./micromark-61e2d1b7.js";import"./unist-util-stringify-position-7b16d8bf.js";import"./mdast-util-to-string-54c68536.js";import"./prop-types-4d501b15.js";import"./style-to-object-954b9672.js";import"./inline-style-parser-e2a37bce.js";import"./unified-9a04a53b.js";import"./bail-0fe607cf.js";import"./is-buffer-acc645ac.js";import"./is-plain-obj-4f87c5a3.js";import"./trough-77adad87.js";import"./vfile-3104d000.js";import"./vfile-message-49464609.js";import"./remark-rehype-5336432b.js";import"./mdast-util-to-hast-6aef0656.js";import"./micromark-util-sanitize-uri-142c3bf3.js";import"./trim-lines-00010efb.js";import"./mdast-util-definitions-0d9118f7.js";import"./unist-util-generated-a3feeab7.js";import"./rehype-4d951e90.js";import"./rehype-parse-5ae64d80.js";import"./rehype-stringify-3b5a3932.js";import"./hast-util-to-html-5fb2ef53.js";import"./stringify-entities-5742d472.js";import"./character-entities-html4-26dda978.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=l(o);fetch(o.href,s)}})();const V="_wrapper_1lp6r_1",R="_item_1lp6r_15",J="_itemFound_1lp6r_31",K="_selectedFound_1lp6r_49",U="_title_1lp6r_67",W="_text_1lp6r_85",G="_selected_1lp6r_49",Q="_time_1lp6r_111",b={wrapper:V,item:R,itemFound:J,selectedFound:K,title:U,text:W,selected:G,time:Q},N=({currentNoteId:r,item:t,onChooseNote:l})=>{var n,o,s;return u("div",{className:r===(t==null?void 0:t.id)?b.selected:b.item,onClick:()=>l(t),children:[e("div",{className:b.title,children:(n=t==null?void 0:t.text)==null?void 0:n.substr(0,9)}),u("div",{className:b.text,children:[e("span",{className:b.time,children:t==null?void 0:t.time}),(o=t==null?void 0:t.text)==null?void 0:o.substr(0,15),e("span",{children:((s=t==null?void 0:t.text)==null?void 0:s.length)>15?"...":""})]})]},t==null?void 0:t.id)},X=({items:r,setCurrentNote:t,currentNoteId:l,isList:n,findText:o})=>{const s=i=>{t(i)};return e(x,{children:n&&e("div",{className:b.wrapper,children:o===""?r==null?void 0:r.map(i=>e(N,{currentNoteId:l,item:i,onChooseNote:s})):r==null?void 0:r.filter(i=>(i==null?void 0:i.text.toLowerCase().indexOf(o.toLowerCase()))>=0).map(i=>e(N,{currentNoteId:l,item:i,onChooseNote:s}))})})},Y="_wrapper_9arbj_1",Z="_content_9arbj_15",tt="_title_9arbj_27",et="_text_9arbj_73",rt={wrapper:Y,content:Z,title:tt,text:et},y=()=>{const r=new Date,t=r.getHours(),l=r.getMinutes();return t+":"+l},$=({currentNote:r,setItems:t,setCurrentNote:l,flag:n,setFlag:o})=>{const[s,i]=m.useState(!1),[f,c]=m.useState(!1);m.useEffect(()=>{i(!1)},[r==null?void 0:r.id]),m.useEffect(()=>()=>{t(d=>f?[{...r},...d.filter(a=>a.id!==(r==null?void 0:r.id))]:d),o(!n),c(!1)});const p=d=>{l(a=>({...a,time:y(),text:d}))};return e(x,{children:e("div",{className:rt.wrapper,onClick:()=>c(!0),children:e("div",{onClick:()=>{i(!0),c(!0)},onKeyDown:()=>{c(!0)},children:s?e(C,{value:r==null?void 0:r.text,autoFocus:!1,onChange:(d,a)=>p(a==null?void 0:a.target.value),previewOptions:{skipHtml:!0,transformLinkUri:null,linkTarget:"_blank"}}):e(x,{children:e(C.Markdown,{source:r==null?void 0:r.text,skipHtml:!0,transformLinkUri:null})})})})})},ot="_wrapper_9vvmt_1",st="_leftBar_9vvmt_11",it="_rightBar_9vvmt_23",lt="_listImg_9vvmt_39",nt="_squareImg_9vvmt_49",at="_basketImg_9vvmt_57",ct="_addImg_9vvmt_67",pt="_registerImg_9vvmt_77",dt="_finder_9vvmt_87",mt="_listSelect_9vvmt_137",ut="_squareSelect_9vvmt_149",_={wrapper:ot,leftBar:st,rightBar:it,listImg:lt,squareImg:nt,basketImg:at,addImg:ct,registerImg:pt,finder:dt,listSelect:mt,squareSelect:ut},_t="_moduleText_18cx4_1",ft="_moduleDelete_18cx4_17",ht="_moduleNotDelete_18cx4_45",S={moduleText:_t,moduleDelete:ft,moduleNotDelete:ht},gt=({setItems:r,currentNoteId:t,open:l,setOpen:n})=>{const o={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:160,borderRadius:3,bgcolor:"#464646",boxShadow:24,pt:2,px:4,pb:3},s=()=>{n(!1)},i=f=>{r(c=>[...c.filter(p=>p.id!==f)])};return e(T,{open:l,onClose:s,children:u(O,{sx:{...o},children:[e("h2",{className:S.moduleText,children:"Удалить заметку?"}),e("span",{className:S.moduleDelete,onClick:()=>{i(t),n(!1)},children:"Да"}),e("span",{className:S.moduleNotDelete,onClick:()=>{n(!1)},children:"Нет"})]})})},vt=({setItems:r,currentNoteId:t,isList:l,setIsList:n,setEdit:o,setFindText:s,findText:i})=>{const f=()=>{const g={id:Math.random(),title:"New Title",time:y(),text:"New text about note"};r(D=>[g,...D])},[c,p]=m.useState(!1),[d,a]=m.useState("16"),[h,w]=m.useState("left");function I(g){a(g.currentTarget.value)}function L(g){w(g.currentTarget.value)}document.documentElement.style.setProperty("--my-size",`${d}px`),document.documentElement.style.setProperty("--my-align",`${h}`);const F=g=>{s(g.currentTarget.value)};return e(x,{children:u("div",{className:_.wrapper,children:[u("div",{className:_.leftBar,children:[e("span",{className:l?_.listSelect:_.listImg,onClick:()=>{n(!0),o(!1)},children:e(B,{})}),e("span",{className:l?_.squareImg:_.squareSelect,onClick:()=>{n(!1),o(!1)},children:e(E,{})}),e("span",{className:_.basketImg,onClick:()=>{p(!0)},children:e(q,{})}),e(gt,{open:c,setOpen:p,setItems:r,currentNoteId:t})]}),u("div",{className:_.rightBar,children:[e("span",{className:_.addImg,onClick:f,children:e(M,{})}),e("span",{className:_.registerImg,children:e(j,{})}),u("select",{value:d,onChange:I,children:[e("option",{value:"16",children:"16"}),e("option",{value:"20",children:"20"}),e("option",{value:"24",children:"24"}),e("option",{value:"28",children:"28"})]}),u("select",{value:h,onChange:L,children:[e("option",{value:"left",children:"left"}),e("option",{value:"right",children:"right"}),e("option",{value:"center",children:"center"})]}),u("div",{className:_.finder,children:[e("span",{className:_.finderImg,children:e(H,{fontSize:"small"})}),e("input",{value:i,onChange:F,className:_.finderInput,placeholder:"Поиск"})]})]})]})})},xt="_wrapper_1r7ib_1",bt="_backToList_1r7ib_19",wt="_item_1r7ib_31",It="_title_1r7ib_47",St="_text_1r7ib_65",Ct="_selected_1r7ib_73",v={wrapper:xt,backToList:bt,item:wt,title:It,text:St,selected:Ct},k=({currentNote:r,item:t,onChooseNote:l,setEdit:n})=>{var o,s,i;return u("div",{className:r.id===(t==null?void 0:t.id)?v.selected:v.item,onClick:()=>l(t),onDoubleClick:()=>n(!0),children:[e("span",{className:v.time,children:t==null?void 0:t.time}),e("div",{className:v.title,children:(o=t==null?void 0:t.text)==null?void 0:o.substr(0,9)}),u("div",{className:v.text,children:[(s=t==null?void 0:t.text)==null?void 0:s.substr(0,15),e("span",{children:((i=t==null?void 0:t.text)==null?void 0:i.length)>15?"...":""})]})]},t==null?void 0:t.id)},Nt=({items:r,setCurrentNote:t,setItems:l,isList:n,edit:o,setEdit:s,findText:i,flag:f,setFlag:c,currentNote:p})=>{const d=a=>{t(a)};return u(x,{children:[!n&&!o&&e("div",{className:v.wrapper,children:i===""?r==null?void 0:r.map(a=>e(k,{currentNote:p,item:a,onChooseNote:d,setEdit:s})):r==null?void 0:r.filter(a=>{var h;return((h=a==null?void 0:a.text.toLowerCase())==null?void 0:h.indexOf(i.toLowerCase()))>=0}).map(a=>e(k,{currentNote:p,item:a,onChooseNote:d,setEdit:s}))}),o&&u(x,{children:[e("div",{className:v.backToList,onClick:()=>s(!1),children:e(P,{})}),e($,{setItems:l,currentNote:p,setCurrentNote:t,flag:f,setFlag:c})]})]})},kt=()=>{try{return JSON.parse(localStorage.getItem("savedItems")||"")}catch{}},yt=()=>{const[r,t]=m.useState({}),[l,n]=m.useState(!0),[o,s]=m.useState(!1),[i,f]=m.useState(""),[c,p]=m.useState([]),[d,a]=m.useState(!0);m.useEffect(()=>{if(localStorage.length){const w=kt();p(I=>[...w,...I])}},[]);const h=!Object.keys(r).length;return m.useEffect(()=>{localStorage.setItem("savedItems",JSON.stringify(c))},[c.length,d]),u(x,{children:[e(vt,{setItems:p,setFindText:f,findText:i,currentNoteId:r.id,isList:l,setIsList:n,setEdit:s}),u("div",{className:"wrapper",children:[e(X,{items:c,findText:i,setCurrentNote:t,currentNoteId:r==null?void 0:r.id,isList:l}),e(Nt,{items:c,setItems:p,findText:i,setCurrentNote:t,currentNote:r,isList:l,edit:o,setEdit:s,flag:d,setFlag:a}),l&&!h&&e($,{setItems:p,currentNote:r,flag:d,setFlag:a,setCurrentNote:t})]})]})};A.createRoot(document.getElementById("root")).render(e(z.StrictMode,{children:e(yt,{})}));

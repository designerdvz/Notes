import{s as d}from"./comma-separated-tokens-495b557e.js";import{s as f,h as l,f as N}from"./property-information-1c94c3e6.js";import{s as h}from"./space-separated-tokens-eedf1754.js";import{w as p}from"./web-namespaces-a6665c10.js";import{z as g}from"./zwitch-18fef54d.js";const y={}.hasOwnProperty,u=g("type",{handlers:{root:b,element:O,text:C,comment:L,doctype:w}});function A(t,n){const e=n&&typeof n=="object"?n.space:n;return u(t,e==="svg"?f:l)}function b(t,n){const e={nodeName:"#document",mode:(t.data||{}).quirksMode?"quirks":"no-quirks",childNodes:[]};return e.childNodes=c(t.children,e,n),a(t,e),e}function x(t,n){const e={nodeName:"#document-fragment",childNodes:[]};return e.childNodes=c(t.children,e,n),a(t,e),e}function w(t){const n={nodeName:"#documentType",name:"html",publicId:"",systemId:"",parentNode:void 0};return a(t,n),n}function C(t){const n={nodeName:"#text",value:t.value,parentNode:void 0};return a(t,n),n}function L(t){const n={nodeName:"#comment",data:t.value,parentNode:void 0};return a(t,n),n}function O(t,n){const e=n;let r=e;t.type==="element"&&t.tagName.toLowerCase()==="svg"&&e.space==="html"&&(r=f);const s=[];let o;if(t.properties){for(o in t.properties)if(o!=="children"&&y.call(t.properties,o)){const m=S(r,o,t.properties[o]);m&&s.push(m)}}const i={nodeName:t.tagName,tagName:t.tagName,attrs:s,namespaceURI:p[r.space],childNodes:[],parentNode:void 0};return i.childNodes=c(t.children,i,r),a(t,i),t.tagName==="template"&&t.content&&(i.content=x(t.content,r)),i}function S(t,n,e){const r=N(t,n);if(e==null||e===!1||typeof e=="number"&&Number.isNaN(e)||!e&&r.boolean)return;Array.isArray(e)&&(e=r.commaSeparated?d(e):h(e));const s={name:r.attribute,value:e===!0?"":String(e)};if(r.space&&r.space!=="html"&&r.space!=="svg"){const o=s.name.indexOf(":");o<0?s.prefix="":(s.name=s.name.slice(o+1),s.prefix=r.attribute.slice(0,o)),s.namespace=p[r.space]}return s}function c(t,n,e){let r=-1;const s=[];if(t)for(;++r<t.length;){const o=u(t[r],e);o.parentNode=n,s.push(o)}return s}function a(t,n){const e=t.position;e&&e.start&&e.end&&(n.sourceCodeLocation={startLine:e.start.line,startCol:e.start.column,startOffset:e.start.offset,endLine:e.end.line,endCol:e.end.column,endOffset:e.end.offset})}export{A as t};

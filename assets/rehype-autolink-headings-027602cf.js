import{e as f}from"./extend-33196086.js";import{c as N}from"./hast-util-is-element-a48592b7.js";import{v}from"./unist-util-visit-00dde69f.js";import{h as j}from"./hast-util-heading-rank-1ca6eaab.js";import{h as w}from"./hast-util-has-property-77f33ae2.js";import{S as l}from"./unist-util-visit-parents-72556a0a.js";const H={type:"element",tagName:"span",properties:{className:["icon","icon-link"]},children:[]};function K(n={}){let i=n.properties;const o=n.behaviour||n.behavior||"prepend",m=n.content||H,h=n.group,b=N(n.test);let a;return o==="wrap"?a=k:o==="before"||o==="after"?a=A:(i||(i={ariaHidden:"true",tabIndex:-1}),a=d),r=>{v(r,"element",(e,t,s)=>{if(j(e)&&w(e,"id")&&b(e,t,s))return a(e,t,s)})};function d(r){return r.children[o==="prepend"?"unshift":"push"](p(r,f(!0,{},i),y(m,r))),[l]}function A(r,e,t){if(typeof e!="number"||!t)return;const s=p(r,f(!0,{},i),y(m,r));let u=o==="before"?[s,r]:[r,s];if(h){const c=g(h,r);c&&!Array.isArray(c)&&c.type==="element"&&(c.children=u,u=[c])}return t.children.splice(e,1,...u),[l,e+u.length]}function k(r){return r.children=[p(r,f(!0,{},i),r.children)],[l]}function y(r,e){const t=g(r,e);return Array.isArray(t)?t:[t]}function g(r,e){return typeof r=="function"?r(e):f(!0,Array.isArray(r)?[]:{},r)}function p(r,e,t){return{type:"element",tagName:"a",properties:Object.assign({},e,{href:"#"+(r.properties||{}).id}),children:t}}}export{K as r};
